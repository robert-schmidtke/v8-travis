os: osx
osx_image: xcode10.1

language: cpp

addons:
  homebrew:
    packages:
      - ccache

cache:
  ccache: true
  directories:
    - ./v8build

jobs:
  include:
    - stage: "Fetch V8"
      script: ./fetch-v8.sh
    - stage: "Build third_party"
      script: ./build.sh antlr4
    - stage: "Build third_party"
      script: ./build.sh icu
    - stage: "Build d8, v8"
      script: ./build.sh d8 v8
